$((function(){$(".menu-main [href]").each((function(){this.href==window.location.href&&$(this).addClass("active")})),$(".header-main__auth [href]").each((function(){this.href==window.location.href&&$(this).addClass("active")})),$(".room__balance-inner [href]").each((function(){this.href==window.location.href&&($(this).closest(".room__balance-item").addClass("active"),$(".header-main__auth-link--center:first-child").addClass("active"))}))}));let selects=document.getElementsByTagName("select");function selects_init(){for(let e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const s=t[e],n=s.querySelector(".select__options");s.classList.remove("_active"),_slideUp(n,100)}}function select_init(e){const t=e.parentElement,s=e.getAttribute("class"),n=e.querySelector("option:checked");e.setAttribute("data-default",n.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+s+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,s=t.querySelector(".select__item"),n=e.querySelectorAll("option"),l=e.querySelector("option:checked").text,i=e.getAttribute("data-type");s&&s.remove();let a="";a="input"==i?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+l+'" data-error="Ошибка" data-value="'+l+'" class="select__input"></div>':'<div class="select__value"><span>'+l+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+a+'</div><div class="select__options">'+select_get_options(n)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){const s=t.querySelector(".select__item"),n=t.querySelector(".select__options"),l=t.querySelectorAll(".select__option"),i=e.getAttribute("data-type"),a=t.querySelector(".select__input");s.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const n=e[t],l=n.querySelector(".select__options");n!=s.closest(".select")&&(n.classList.remove("_active"),_slideUp(l,100))}_slideToggle(n,100),t.classList.toggle("_active")}));for(let s=0;s<l.length;s++){const n=l[s],o=n.getAttribute("data-value"),c=n.innerHTML;"input"==i?a.addEventListener("keyup",select_search):n.getAttribute("data-value")==e.value&&(n.style.display="none"),n.addEventListener("click",(function(){for(let e=0;e<l.length;e++){l[e].style.display="block"}"input"==i?(a.value=c,e.value=o):(t.querySelector(".select__value").innerHTML="<span>"+c+"</span>",e.value=o,n.style.display="none")}))}}function select_get_options(e){if(e){let t="";for(let s=0;s<e.length;s++){const n=e[s],l=n.value;if(""!=l){t=t+'<div data-value="'+l+'" class="select__option">'+n.text+"</div>"}}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),s=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let n=t[e];(n.textContent||n.innerText).toUpperCase().indexOf(s)>-1?n.style.display="":n.style.display="none"}}function selects_update_all(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};var TxtRotate=function(e,t,s){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(s,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};function myFunction(){var e=document.getElementById("about__dots"),t=document.getElementById("about__more"),s=document.getElementById("about__btn");"none"===e.style.display?(e.style.display="inline",s.innerHTML="Далее...",t.style.display="none"):(e.style.display="none",s.innerHTML="Скрыть",t.style.display="inline")}TxtRotate.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var s=this,n=300-100*Math.random();this.isDeleting&&(n/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,n=500):(n=this.period,this.isDeleting=!0),setTimeout((function(){s.tick()}),n)},window.onload=function(){for(var e=document.getElementsByClassName("txt-rotate"),t=0;t<e.length;t++){var s=e[t].getAttribute("data-rotate"),n=e[t].getAttribute("data-period");s&&new TxtRotate(e[t],JSON.parse(s),n)}var l=document.createElement("style");l.type="text/css",l.innerHTML=".txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(l)};const titles=document.querySelectorAll(".question__item-title"),text=document.querySelectorAll(".question__text");for(let e=0;e<titles.length;e++){titles[e].onclick=function(){for(let t=0;t<titles.length;t++){const s=titles[t];s.classList.contains("active")&&s.classList.remove("active"),s.classList.contains("active")||titles[e].classList.add("active")}for(let t=0;t<text.length;t++){const s=text[t];s.classList.contains("active")&&s.classList.remove("active"),text[e].classList.contains("active")||(document.querySelector(".question__inner").classList.add("active"),document.querySelector(".question__row+.question__row").classList.add("active"),text[e].classList.add("active"))}}}const questBtn=document.querySelector(".question__btn");function authFunction(){let e=document.getElementById("login").value,t=document.getElementById("password").value;"admin@gmail.com"==e&&"admin"==t?window.location.href="http://localhost:3000/clientRoom.html":alert("Не правильно введен логин или пароль")}function filterSelection(e){var t,s;for(t=document.getElementsByClassName("referrals__text"),"all"==e&&(e=""),s=0;s<t.length;s++)w3RemoveClass(t[s],"show"),t[s].className.indexOf(e)>-1&&w3AddClass(t[s],"show")}function w3AddClass(e,t){var s,n,l;for(n=e.className.split(" "),l=t.split(" "),s=0;s<l.length;s++)-1==n.indexOf(l[s])&&(e.className+=" "+l[s])}function w3RemoveClass(e,t){var s,n,l;for(n=e.className.split(" "),l=t.split(" "),s=0;s<l.length;s++)for(;n.indexOf(l[s])>-1;)n.splice(n.indexOf(l[s]),1);e.className=n.join(" ")}questBtn&&(questBtn.onclick=function(){document.querySelector(".question__inner").classList.remove("active"),document.querySelector(".question__row+.question__row").classList.remove("active"),text.forEach((e=>{e.classList.remove("active")})),titles.forEach((e=>{e.classList.remove("active")}))});const btnsRef=document.querySelectorAll(".referrals__title");for(let e=0;e<btnsRef.length;e++){btnsRef[e].addEventListener("click",(function(){for(let t=0;t<btnsRef.length;t++){const s=btnsRef[t];s.classList.contains("active")&&s.classList.remove("active"),s.classList.contains("active")||btnsRef[e].classList.add("active")}}))}var newDate=new Date,month=new Array("января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря");const date=document.querySelectorAll(".reviews__date, .support-history__date");for(let e=0;e<date.length;e++){date[e].innerHTML=newDate.getDate()+" - "+month[newDate.getMonth()]+" - "+newDate.getFullYear()}function CopyToClipboard(e){if(document.selection)(t=document.body.createTextRange()).moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("Copy");else if(window.getSelection){var t;(t=document.createRange()).selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("Copy")}}const formImage=document.getElementById("formImage"),formPreview=document.getElementById("formPreview");if(formImage){function uploadFile(e){if(!["image/jpeg","image/png"].includes(e.type))return alert("Разрешено добавлять только изображения!"),void(formImage.value="");var t=new FileReader;t.onload=function(e){let t=e.target.result;formPreview.innerHTML='<img src="'+t+'" alt="photo">'},t.onerror=function(e){alert("Допущена ошибка")},t.readAsDataURL(e)}formImage.addEventListener("change",(()=>{uploadFile(formImage.files[0])}))}var newPsw=document.getElementById("newPsw"),againNewPsw=document.getElementById("againNewPsw"),letter=document.getElementById("letter"),capital=document.getElementById("capital"),number=document.getElementById("number"),length=document.getElementById("length"),ravno=document.getElementById("ravno");function checkPasswordMatch(){$("#newPsw").val()==$("#againNewPsw").val()?(ravno.classList.remove("invalid"),ravno.classList.add("valid")):(ravno.classList.remove("valid"),ravno.classList.add("invalid"))}(newPsw||againNewPsw)&&(newPsw.onfocus=function(){document.getElementById("message").style.display="block"},againNewPsw.onfocus=function(){document.getElementById("message").style.display="block"},newPsw.onblur=function(){document.getElementById("message").style.display="none"},againNewPsw.onblur=function(){document.getElementById("message").style.display="none"},newPsw.onkeyup=function(){newPsw.value.match(/[a-z]/g)?(letter.classList.remove("invalid"),letter.classList.add("valid")):(letter.classList.remove("valid"),letter.classList.add("invalid"));newPsw.value.match(/[A-Z]/g)?(capital.classList.remove("invalid"),capital.classList.add("valid")):(capital.classList.remove("valid"),capital.classList.add("invalid"));newPsw.value.match(/[0-9]/g)?(number.classList.remove("invalid"),number.classList.add("valid")):(number.classList.remove("valid"),number.classList.add("invalid")),newPsw.value.length>=8?(length.classList.remove("invalid"),length.classList.add("valid")):(length.classList.remove("valid"),length.classList.add("invalid"))},againNewPsw.onkeyup=function(){againNewPsw.value.match(/[a-z]/g)?(letter.classList.remove("invalid"),letter.classList.add("valid")):(letter.classList.remove("valid"),letter.classList.add("invalid"));againNewPsw.value.match(/[A-Z]/g)?(capital.classList.remove("invalid"),capital.classList.add("valid")):(capital.classList.remove("valid"),capital.classList.add("invalid"));againNewPsw.value.match(/[0-9]/g)?(number.classList.remove("invalid"),number.classList.add("valid")):(number.classList.remove("valid"),number.classList.add("invalid")),againNewPsw.value.length>=8?(length.classList.remove("invalid"),length.classList.add("valid")):(length.classList.remove("valid"),length.classList.add("invalid"))}),$(document).ready((function(){$("#againNewPsw").keyup(checkPasswordMatch)}));const iconMenu=document.querySelector(".menu__icon"),menuBody=document.querySelector(".header-main__inner");iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.toggle("lock"),iconMenu.classList.toggle("active"),menuBody.classList.toggle("active")}));
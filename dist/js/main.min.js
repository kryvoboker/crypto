$((function(){$(".menu-main [href]").each((function(){this.href==window.location.href&&$(this).addClass("active")})),$(".room__balance-inner [href]").each((function(){this.href==window.location.href&&($(this).closest(".room__balance-item").addClass("active"),$(".header-main__auth-link--center:first-child").addClass("active"))}))}));let selects=document.getElementsByTagName("select");function selects_init(){for(let e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const s=t[e],o=s.querySelector(".select__options");s.classList.remove("_active"),_slideUp(o,100)}}function select_init(e){const t=e.parentElement,s=e.getAttribute("class"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+s+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,s=t.querySelector(".select__item"),o=e.querySelectorAll("option"),n=e.querySelector("option:checked").text,i=e.getAttribute("data-type");s&&s.remove();let l="";l="input"==i?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value"><span>'+n+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+l+'</div><div class="select__options">'+select_get_options(o)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){const s=t.querySelector(".select__item"),o=t.querySelector(".select__options"),n=t.querySelectorAll(".select__option"),i=e.getAttribute("data-type"),l=t.querySelector(".select__input");s.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const o=e[t],n=o.querySelector(".select__options");o!=s.closest(".select")&&(o.classList.remove("_active"),_slideUp(n,100))}_slideToggle(o,100),t.classList.toggle("_active")}));for(let s=0;s<n.length;s++){const o=n[s],a=o.getAttribute("data-value"),r=o.innerHTML;"input"==i?l.addEventListener("keyup",select_search):o.getAttribute("data-value")==e.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(let e=0;e<n.length;e++){n[e].style.display="block"}"input"==i?(l.value=r,e.value=a):(t.querySelector(".select__value").innerHTML="<span>"+r+"</span>",e.value=a,o.style.display="none")}))}}function select_get_options(e){if(e){let t="";for(let s=0;s<e.length;s++){const o=e[s],n=o.value;if(""!=n){t=t+'<div data-value="'+n+'" class="select__option">'+o.text+"</div>"}}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),s=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let o=t[e];(o.textContent||o.innerText).toUpperCase().indexOf(s)>-1?o.style.display="":o.style.display="none"}}function selects_update_all(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};var TxtRotate=function(e,t,s){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(s,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};function myFunction(){var e=document.getElementById("about__dots"),t=document.getElementById("about__more"),s=document.getElementById("about__btn");"none"===e.style.display?(e.style.display="inline",s.innerHTML="Далее...",t.style.display="none"):(e.style.display="none",s.innerHTML="Скрыть",t.style.display="inline")}TxtRotate.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var s=this,o=300-100*Math.random();this.isDeleting&&(o/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,o=500):(o=this.period,this.isDeleting=!0),setTimeout((function(){s.tick()}),o)},window.onload=function(){for(var e=document.getElementsByClassName("txt-rotate"),t=0;t<e.length;t++){var s=e[t].getAttribute("data-rotate"),o=e[t].getAttribute("data-period");s&&new TxtRotate(e[t],JSON.parse(s),o)}var n=document.createElement("style");n.type="text/css",n.innerHTML=".txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(n)};const titles=document.querySelectorAll(".question__item-title"),text=document.querySelectorAll(".question__text");for(let e=0;e<titles.length;e++){titles[e].onclick=function(){for(let t=0;t<titles.length;t++){const s=titles[t];s.classList.contains("active")&&s.classList.remove("active"),s.classList.contains("active")||titles[e].classList.add("active")}for(let t=0;t<text.length;t++){const s=text[t];s.classList.contains("active")&&s.classList.remove("active"),text[e].classList.contains("active")||(document.querySelector(".question__inner").classList.add("active"),document.querySelector(".question__row+.question__row").classList.add("active"),text[e].classList.add("active"))}}}const questBtn=document.querySelector(".question__btn");function filterSelection(e){var t,s;for(t=document.getElementsByClassName("referrals__text"),"all"==e&&(e=""),s=0;s<t.length;s++)w3RemoveClass(t[s],"show"),t[s].className.indexOf(e)>-1&&w3AddClass(t[s],"show")}function w3AddClass(e,t){var s,o,n;for(o=e.className.split(" "),n=t.split(" "),s=0;s<n.length;s++)-1==o.indexOf(n[s])&&(e.className+=" "+n[s])}function w3RemoveClass(e,t){var s,o,n;for(o=e.className.split(" "),n=t.split(" "),s=0;s<n.length;s++)for(;o.indexOf(n[s])>-1;)o.splice(o.indexOf(n[s]),1);e.className=o.join(" ")}questBtn&&(questBtn.onclick=function(){document.querySelector(".question__inner").classList.remove("active"),document.querySelector(".question__row+.question__row").classList.remove("active"),text.forEach((e=>{e.classList.remove("active")})),titles.forEach((e=>{e.classList.remove("active")}))});const btnsRef=document.querySelectorAll(".referrals__title");for(let e=0;e<btnsRef.length;e++){btnsRef[e].addEventListener("click",(function(){for(let t=0;t<btnsRef.length;t++){const s=btnsRef[t];s.classList.contains("active")&&s.classList.remove("active"),s.classList.contains("active")||btnsRef[e].classList.add("active")}}))}var newDate=new Date,month=new Array("января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря");const date=document.querySelectorAll(".reviews__date, .support-history__date");for(let e=0;e<date.length;e++){date[e].innerHTML=newDate.getDate()+" - "+month[newDate.getMonth()]+" - "+newDate.getFullYear()}function CopyToClipboard(e){if(document.selection)(t=document.body.createTextRange()).moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("Copy");else if(window.getSelection){var t;(t=document.createRange()).selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("Copy")}}const formImage=document.getElementById("formImage"),formPreview=document.getElementById("formPreview");function uploadFile(e){if(!["image/jpeg","image/png"].includes(e.type))return alert("Разрешено добавлять только изображения!"),void(formImage.value="");var t=new FileReader;t.onload=function(e){let t=e.target.result;formPreview.innerHTML='<img src="'+t+'" alt="photo">'},t.onerror=function(e){alert("Допущена ошибка")},t.readAsDataURL(e)}formImage.addEventListener("change",(()=>{uploadFile(formImage.files[0])}));